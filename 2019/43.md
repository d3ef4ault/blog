# 第三方支付对接

## 支付

### 显示支付按钮

1. 直接显示隐藏的表单，点击按钮就提交跳转到支付页面
2. 只显示一个按钮，点击触发 【调起支付】

### 调起支付

参数： 订单id  支付方式  币种？

服务端生成表单html或调起参数或跳转链接

### 支付通知

处理通知，完成支付
1. 获取订单信息
2. 验证金额
3. 处理订单并保存第三方支付单号（退款可能用到）

## 退款

### 点击退款

1. 退回余额，实时处理
2. 通过订单号生成退款请求，退款的链接或http请求结果，此时退款不能判断是否处理成功

### 退款通知

1. 获取订单信息
2. 验证金额
3. 处理订单保存第三方退款单号

## 订单支付状态

1. 未支付
2. 支付中
3. 支付完成
   
## 订单退款状态

1. 无
2. 退款中
3. 退款完成

## 支付流水号

最好不要直接使用订单号去支付，因为如果订单金额发生变动或支付金额受实时汇率影响的话，会导致第三方支付不成功

